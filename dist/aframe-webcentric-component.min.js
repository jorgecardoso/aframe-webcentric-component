!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(this,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("webcentric",{schema:{camerarig:{type:"selector",default:"#camerarig"}},multiple:!1,init:function(){THREE.Math={degToRad:THREE.MathUtils.degToRad,radToDeg:THREE.MathUtils.radToDeg,randInt:THREE.MathUtils.randInt,randFloat:THREE.MathUtils.randFloat};let t=this;this._hasStats=!1;let e=this.el.sceneEl;function o(){console.log(e.hasAttribute("stats")),e.hasAttribute("stats")&&(t._hasStats=!0,t._curPosition=new THREE.Vector3,t._curRotation=new THREE.Vector3,t._lastPosition=new THREE.Vector3,t._lastRotation=new THREE.Vector3)}e.hasLoaded?o():e.addEventListener("loaded",o);let n=this.data.camerarig;if(!n){console.warn("No camera rig found. Trying to use camera parent");let t=document.querySelector("[camera]").parentElement;if(t===this.sceneEl)return void console.warn("No camera parent found");console.info("Found camera parent: ",t),n=t}let i=null,a=null;if(window.location.search){console.log(window.location.search);let t=new URLSearchParams(window.location.search);t.get("cameraRot")&&(i=t.get("cameraRot")),t.get("cameraPos")&&(a=t.get("cameraPos"))}if(console.log(a,i),(!i||!a)&&window.location.hash){console.log(window.location.hash);let t=new URLSearchParams(window.location.hash.substring(1));t.get("cameraRot")&&(i=t.get("cameraRot")),t.get("cameraPos")&&(a=t.get("cameraPos"))}if(a){let t=a.replace(/,/g," ");console.log(t),n.setAttribute("position",t)}if(i){let t=i.replace(/,/g," ");console.log(t),n.setAttribute("rotation",t)}window.addEventListener("popstate",(function(t){if(console.log(t),window.location.hash){console.log(window.location.hash);let t=new URLSearchParams(window.location.hash.substring(1));t.get("cameraRot")&&(i=t.get("cameraRot")),t.get("cameraPos")&&(a=t.get("cameraPos"))}let e=document.querySelector("[camera]");if(e.setAttribute("position",`0 ${e.object3D.position.y} 0`),a){let t=a.replace(/,/g," ");console.log(t),n.setAttribute("position",t)}if(i){let t=i.replace(/,/g," ");console.log(t),n.setAttribute("rotation",t),e.components["look-controls"].pitchObject.rotation.x=0,e.components["look-controls"].yawObject.rotation.y=0}}))},update:function(t){},remove:function(){},tick:function(t){if(this._hasStats){if(!this._statsPanel){this._statsPanel=document.querySelector(".rs-base");let t=this._statsPanel.querySelector(".rs-container"),e=document.createElement("h1");e.innerText="Camera (World)",t.appendChild(e);let o=document.createElement("div");o.classList.add("rs-group");let n=document.createElement("div");n.classList.add("rs-counter-base"),n.innerHTML='<span class="rs-counter-id">Position</span>',this._containerPosition=document.createElement("div"),this._containerPosition.classList.add("rs-counter-value"),this._containerPosition.style="width: 200px",n.appendChild(this._containerPosition),o.appendChild(n);let i=document.createElement("div");i.classList.add("rs-counter-base"),i.innerHTML='<span class="rs-counter-id">Rotation</span>',this._containerRotation=document.createElement("div"),this._containerRotation.classList.add("rs-counter-value"),this._containerRotation.style="width: 200px",i.appendChild(this._containerRotation),o.appendChild(i),t.appendChild(o),console.log(this._statsPanel)}let t=this.el.sceneEl.querySelector("[camera]");this._curPosition.copy(t.object3D.getWorldPosition(this._curPosition)),this._curPosition.x=this._curPosition.x.toFixed(3),this._curPosition.y=this._curPosition.y.toFixed(3),this._curPosition.z=this._curPosition.z.toFixed(3);let e=new THREE.Quaternion;t.object3D.getWorldQuaternion(e);let o=new THREE.Euler;o.setFromQuaternion(e,"XZY"),this._curRotation.copy(o),this._curRotation.x=THREE.Math.radToDeg(this._curRotation.x).toFixed(3),this._curRotation.y=THREE.Math.radToDeg(this._curRotation.y).toFixed(3),this._curRotation.z=THREE.Math.radToDeg(this._curRotation.z).toFixed(3),this._curPosition.equals(this._lastPosition)||(this._containerPosition.innerText=`${this._curPosition.x} ${this._curPosition.y}  ${this._curPosition.z}`,this._lastPosition.copy(this._curPosition)),this._curRotation.equals(this._lastRotation)||(this._containerRotation.innerText=`${this._curRotation.x} ${this._curRotation.y}  ${this._curRotation.z}`,this._lastRotation.copy(this._curRotation))}},pause:function(){},play:function(){},events:{}})}])}));